# 计算机网络概述

将分散独立的计算机系统通过设备和线路进行连接，实现资源共享和信息传递

- 目的：资源共享；组成单位：不同地理位置的计算机；网络协议
  - 不同的地理位置区分多核处理器
- 自动管理资源，整个计算机网络对用户透明，一个分布式系统

计算机网络的组成：

- 组成部分：硬件（主机、链路、交换设备、通信处理机）、软件（实现资源共享的应用）、协议（规定传输数据所遵循的协议）
- 工作方式：边缘部分（主机，用于通信和资源共享）、核心部分（提供连通性和交换服务）
- 功能组成：通信子网（实现联网计算机之间的数据通信）、资源子网（向用户提供其它计算机的硬件、软件、数据资源）

计算机网络的功能：数据通信、资源共享、分布式处理、提高可靠性、负载均衡

计算机网络的分类：

- 分布范围：广域网、城域网、局域网、个人区域网
- 传播技术分类：广播式网络、点对点网络
- 拓扑结构：总线型网络、星型网络、环形网络、网状网络
  - 网状网络用于广域网，其它拓扑形状用于局域网
- 使用者：公用网 (Public Network)、专用网 (Private Network)
- 交换技术：
  - 电路交换网络：建立专用的通路
  - 报文交换网络：不定长报文，独立选择路径
  - 分组交换网络：包交换网络，分成固定长度的数据块，独立选择路径，易于标准化、时延更小
- 传输介质分类：有线网络（双绞线网络、同轴电缆网络）、无线网络（蓝牙、微波、无线电）

性能指标：

- 带宽：允许通过信号的频带范围（赫兹 Hz）
- 时延：端到端的传输总时间，发送、传播、处理、排队
  - 发送时延：节点将信息发送到链路上的时间，分组长度 / 信道宽度
  - 传播时延：信息再信道中进行传播的时间，信道长度 / 传播速率
  - 处理时延：一个数据包在一个节点上进行处理需要的时间
  - 排队延时：排队等待处理的事件
- 时延带宽积：传播时延 $\times$ 信道带宽
- 往返时延 (RTT)：发送数据到接受数据的总延时
- 吞吐量：单位时间通过的数据量（偏向于统计量）
- 速率：数据传输速率、数据率、比特率（偏向于瞬时量）
- 信道利用率：有数据通过时间 / 总时间

报文的组成部分：数据部分 (SDU)、控制信息部分 (PCI)

- 协议数据单元 (PDU)：SDU + PCI
- n-SDU + n-PCI = n-PDU = (n-1)-SDU
- 不同物理层 PDU 的名称：比特、帧、分组、报文段

网络协议：对等实体之间才具有协议，用于控制实体之间的通信规则

- 组成：语法（传输数据的格式）、语义（完成的功能）、同步（规定操作的时序关系）
- 功能：线路管理、差错控制、数据转换

接口：访问点 (SAP) 同一节点相邻两层交换信息的连接点

- 逻辑接口，具有唯一标识的地址

服务：下层提供给上层调用，垂直关系，必须是高层可视的功能

- 服务原语：请求、指示、响应、证实
- 有应答服务包含 4 类原语，无应答服务包含请求和指示
- 是否事先建立连接：面向服务连接（连接建立、数据传输、连续释放）、无连接服务（尽力交付）
- 传输数据是否可靠：可靠服务（数据正确可靠）、不可靠服务（尽力而为的服务）
  - 需要通过应用或用户处理出错情况，将不可靠的服务变成可靠服务
- 是否具有应答：有应答服务（接收方收到数据猴发出应答，肯定或否定）、无应答服务（不自动给出应答，可以由高层实现应答）

OSI 参考模型：开放系统互连参考模型，物理层、数据链路层、网络层、传输层、会话层、表示层、应用层

- 低三层为通信子网，通信设备；高三层为资源子网，完成数据处理
- 物理层：比特，终端设备和通信设备的连接方法（电路接口参数、信号意义、电气特征）
  - 物理层接口标准，物理层规程
- 数据链路层：帧，成帧、差错控制（检测错误）、流量控制（协调节点速率）、传输管理（控制共享信道访问，介质访问子层）
  - 提供点到点的通信：主机和主机之间的通信，通过硬件地址或 IP 地址进行标识
- 网络层：数据包，通信子网的运行控制，源端 -> 目的端，路由选择、拥塞控制、差错控制（检错，纠错，丢弃）
  - IP 协议：无连接的网络协议，通过路由器连接了大量异构网络
- 传输层：报文段、用户数据报，流量控制、差错控制、服务质量、数据传输管理
  - 提供端到端连接的可靠服务，不同主机两个进程之间的通信，通过标识号进行识别
  - 可以进行复用（多个进程同时使用传输层服务）和分用（收到的信息分别交付不同的进程）
- 会话层：不同主机各个进程进行会话，建立连接并有序传输数据（建立同步）
  - 建立、管理、终止进程间的会话。失效时恢复通信进行同步
- 表示层：两个通信系统交换信息的表示方式，采用标准的方法定义数据结构和编码形式，数据压缩、加密、解密
- 应用层：向用户提供应用服务，不同的应用协议解决不同的应用要求

TCP/IP 协议：事实上的国际标准，网络接口层、网际层、传输层、应用层

- 网络接口层（物理层、数据链路层）：接受 IP 分组，发送到制定的物理网络上
- 网际层：定义分组格式和协议 (IP)，不能保证有序到达，由高层负责排序
- 传输层：传输控制协议 (TCP) 面向连接，可靠交付；用户数据报协议 (UDP) 尽力交付，无法保证可靠

两个模型的比较：

- 分层相似、独立的协议栈，实现了不同厂家的通信
- OSI 定义了服务、协议、接口，TCP/IP 没有进行区分
- OSI 通用性良好，TCP/IP 不适用于其它协议栈
